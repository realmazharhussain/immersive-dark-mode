#!/usr/bin/python3

def re_set_theme(*args):
    if settings['color-scheme'] != 'prefer-dark':
        settings['gtk-theme'] = 'Adwaita'
        #settings['icon-theme'] = 'Adwaita'
        #settings['cursor-theme'] = 'Adwaita'
    else:
        settings['gtk-theme'] = 'Adwaita-dark'
        #settings['icon-theme'] = 'Adwaita'
        #settings['cursor-theme'] = 'Adwaita'


from gi.repository import GLib, Gio
settings = Gio.Settings.new('org.gnome.desktop.interface')
settings.connect('changed::color-scheme', re_set_theme)
re_set_theme()

try:
    GLib.MainLoop().run()
except KeyboardInterrupt:
    pass
